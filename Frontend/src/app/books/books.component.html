<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Заголовок</title>
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
</head>
<body style="margin-top: 90px;">
<div class="container my-4">
  <input class="btn btn-primary" type="reset" value="Reset" (click)="ngOnInit()">
  <div class="row mb-4">

    <div class="row row-cols-md-4 g-4">
      <div class="col" *ngFor="let book of books">
        <div class="card h-100 text-center" style="height: 20%; width: 75%">
          <img src="data:image/jpeg;base64,{{book.image}}" class="card-img-top" alt=""
               style="height: 100%; width: 100%"
               (click)="toDetails(book.name)">
          <div class="card-body">
            <h5 class="card-title" (click)="toDetails(book.name)">{{book.name}}</h5>
            <div class="card-text">
              <div *ngFor="let author of book.authors" (click)="toDetails(book.name)">
              <span class="if" *ngIf="author.firstName==null">
                {{author.lastName}}<br>
              </span>
                <span class="if" *ngIf="author.lastName==null">
                {{author.firstName}}<br>
              </span>
                <span class="if" *ngIf="author.lastName!=null && author.firstName!=null">
                {{author.firstName + "  " + author.lastName}}<br>
              </span>
              </div>
              <div>
                <app-star [rating]='rating' [itemId]='book.id' (ratingClick)='ratingComponentClick($event)'></app-star>
              </div>

              <h5>{{thanks}}</h5>
              <div>
                <button class="btn btn-light" type="button" (click)="addPurchasedBookToUser(book.id)">
                  Заказать
                </button>
                <button class="btn btn-light" *ngIf="isAdmin" type="button"
                        (click)="deleteBook(book.id)">Удалить
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <p *ngIf='ratingClicked'>The Company has been given {{ratingClicked}} stars</p>
    </div>

  </div>
</div>
</body>
